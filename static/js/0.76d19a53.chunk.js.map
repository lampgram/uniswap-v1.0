{"version":3,"sources":["../node_modules/escape-string-regexp/index.js","webpack:///./src/assets/images/dropup-blue.svg?fe79","components/WarningCard/index.js","../../src/index.ts","../node_modules/@reach/auto-id/es/index.js","../node_modules/@reach/visually-hidden/es/index.js","../node_modules/@reach/rect/es/index.js","../node_modules/@reach/tooltip/es/index.js","webpack:///./src/assets/images/dropdown.svg?d0dc","components/CurrencyInputPanel/index.js","webpack:///./src/assets/images/ethereum-logo.svg?ca9a","components/TokenLogo/index.js"],"names":["matchOperatorsRegex","module","exports","string","TypeError","replace","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDropupBlue","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","ref","d","stroke","ForwardRef","forwardRef","Flex","styled","div","Wrapper","Row","CloseColor","Close","CloseIcon","QuestionWrapper","button","HelpCircleStyled","img","fadeIn","keyframes","Popup","theme","backgroundColor","mercuryGray","textColor","mediaWidth","upToSmall","Text","WarningCard","onDismiss","urlAddedTokens","currency","useState","showPopup","setPopup","chainId","useWeb3React","useTokenDetails","inputSymbol","symbol","inputName","name","fromURL","onClick","alt","style","fontSize","onMouseEnter","onMouseLeave","src","question","address","fontWeight","href","getEtherscanLink","fontStyle","id","useId","_useState","setId","useEffect","border","clip","margin","padding","overflow","position","React","observedNodes","run","changedStates","a","newRect","node","state","b","cb","rafId","window","observe","wasEmpty","rect","hasRectChanged","callbacks","unobserve","index","cancelAnimationFrame","render","refs","children","didMount","_ref2","setState","observer","observeRect","onChange","console","warn","didUpdate","_ref3","prevProps","willUnmount","_ref4","Rect","Component","undefined","initialState","useRect","nodeRef","setRect","observerRef","useRef","useLayoutEffect","current","defaultProps","_states","obj","IDLE","FOCUSED","VISIBLE","chart","initial","states","enter","clearContextId","on","mouseenter","focus","clearTimeout","restTimeout","setTimeout","transition","leave","mousemove","mouseleave","mousedown","blur","rest","selectWithKeyboard","globalMouseMove","leavingVisibleTimer","timecomplete","context","action","newContext","stateDef","nextState","Error","nextDef","subscriptions","forEach","fn","subscribe","push","splice","Tooltip","label","ariaLabel","DEBUG_STYLE","_useTooltip","onMouseMove","onFocus","onKeyDown","onBlur","onMouseDown","isVisible","setIsVisible","triggerRef","triggerRect","checkStyles","handleMouseEnter","handleMouseMove","handleFocus","event","__REACH_DISABLE_TOOLTIPS","handleMouseLeave","handleBlur","handleMouseDown","handleKeyDown","trigger","wrapEvent","tooltip","useTooltip","Fragment","cloneElement","Children","only","TooltipPopup","Portal","TooltipContent","_ref4$position","positionDefault","useAriaLabel","tooltipRef","tooltipRect","role","getStyles","VisuallyHidden","visibility","styles","left","pageXOffset","top","pageYOffset","collisions","right","innerWidth","bottom","innerHeight","directionUp","GAS_MARGIN","ethers","utils","bigNumberify","SubCurrencySelect","flexRowNoWrap","zumthorBlue","royalBlue","InputRow","Input","BorderlessInput","error","salmonRed","inputBackground","StyledBorderlessInput","concreteGray","CurrencySelect","selected","darken","Aligner","span","StyledDropDown","DropDown","InputPanel","flexColumnNoWrap","transparentize","shadowColor","Container","malibuBlue","LabelRow","doveGray","LabelContainer","ErrorSpan","TokenModal","ModalHeader","SearchContainer","TokenModalInfo","TokenList","TokenModalRow","doveGrey","tokenRowHover","upToMedium","TokenRowLeft","TokenSymbolGroup","TokenFullName","chaliceGray","FadedSpan","TokenRowBalance","TokenRowUsd","TokenRowRight","StyledTokenName","SpinnerWrapper","Spinner","CurrencyInputPanel","onValueChange","allBalances","renderInput","onCurrencySelected","description","extraText","extraTextClickHander","errorMessage","disableUnlock","disableTokenSelect","selectedTokenAddress","showUnlock","value","hideETH","t","useTranslation","modalIsOpen","setModalIsOpen","tokenContract","useTokenContract","selectedTokenExchangeAddress","exchangeAddress","pendingApproval","usePendingApproval","addTransaction","useTransactionAdder","allTokens","useAllTokenDetails","account","userTokenBalance","useAddressBalance","data-tip","background","color","borderRadius","marginTop","type","min","step","placeholder","e","onKeyPress","which","keyCode","preventDefault","stopPropagation","useUserBalance","estimate","approve","constants","MaxUint256","catch","log","estimatedGas","gasLimit","calculateGasMargin","then","response","approval","TokenLogo","CurrencySelectModal","isOpen","onTokenSelect","searchQuery","setSearchQuery","ethPrice","useETHPriceInUSD","useAllBalances","_usdAmounts","map","k","ethRate","exchangeDetails","tokenBalance","BigNumber","times","pow","decimals","USDRate","usdAmounts","reduce","accumulator","currentValue","tokenList","useMemo","sort","aSymbol","toLowerCase","bSymbol","aUSD","bUSD","gt","lt","balance","usdBalance","formatEthBalance","formatTokenBalance","filteredTokenList","list","filter","tokenEntry","inputIsAddress","slice","tokenEntryKey","match","RegExp","escapeStringRegex","some","m","inputRef","clearInputAndDismiss","Modal","minHeight","maxHeight","initialFocusRef","isMobile","SearchIcon","input","checksummedInput","isAddress","AddressZero","to","urlAdded","customAdded","INITIAL_TOKENS_CONTEXT","_onTokenSelect","size","Circle","isNaN","isZero","formatToUsd","_g","preserveAspectRatio","points","BAD_IMAGES","Image","Emoji","StyledEthereumLogo","EthereumLogo","setError","path","aria-label","TOKEN_ICON_API","onError"],"mappings":"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","file":"static/js/0.76d19a53.chunk.js","sourcesContent":["'use strict';\n\nconst matchOperatorsRegex = /[|\\\\{}()[\\]^$+*?.-]/g;\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn string.replace(matchOperatorsRegex, '\\\\$&');\n};\n","var _path;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDropupBlue = function SvgDropupBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.4673 6L6.23364 1L0.999995 6\",\n    stroke: \"#388DFF\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropupBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropup-blue.b96d70e1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled, { keyframes } from 'styled-components'\n\nimport { useWeb3React } from '../../hooks'\nimport { useTokenDetails } from '../../contexts/Tokens'\nimport { getEtherscanLink } from '../../utils'\n\nimport { Link } from '../../theme'\nimport TokenLogo from '../TokenLogo'\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\nimport question from '../../assets/images/question.svg'\n\nconst Flex = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n\n  button {\n    max-width: 20rem;\n  }\n`\n\nconst Wrapper = styled.div`\n  background: rgba(243, 190, 30, 0.1);\n  position: relative;\n  padding: 1rem;\n  border: 0.5px solid #f3be1e;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  display: grid;\n  grid-template-rows: 1fr 1fr 1fr;\n  grid-row-gap: 10px;\n`\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-items: flex-start;\n  & > * {\n    margin-right: 6px;\n  }\n`\n\nconst CloseColor = styled(Close)`\n  color: #aeaeae;\n`\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n\n  & > * {\n    height: 14px;\n    width: 14px;\n  }\n`\n\nconst QuestionWrapper = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n  margin-left: 0.4rem;\n  padding: 0.2rem;\n  border: none;\n  background: none;\n  outline: none;\n  cursor: default;\n  border-radius: 36px;\n\n  :hover,\n  :focus {\n    opacity: 0.7;\n  }\n`\n\nconst HelpCircleStyled = styled.img`\n  height: 18px;\n  width: 18px;\n`\n\nconst fadeIn = keyframes`\n  from {\n    opacity : 0;\n  }\n\n  to {\n    opacity : 1;\n  }\n`\n\nconst Popup = styled(Flex)`\n  position: absolute;\n  width: 228px;\n  right: 110px;\n  top: 4px;\n  z-index: 10;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.6rem 1rem;\n  line-height: 150%;\n  background: ${({ theme }) => theme.backgroundColor};\n  border: 1px solid ${({ theme }) => theme.mercuryGray};\n  border-radius: 8px;\n  animation: ${fadeIn} 0.15s linear;\n  color: ${({ theme }) => theme.textColor};\n  font-style: italic;\n\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    left: 2px;\n    top: 50px;\n  `}\n`\n\nconst Text = styled.div`\n  color: ${({ theme }) => theme.textColor};\n`\n\nfunction WarningCard({ onDismiss, urlAddedTokens, currency }) {\n  const [showPopup, setPopup] = useState()\n  const { chainId } = useWeb3React()\n  const { symbol: inputSymbol, name: inputName } = useTokenDetails(currency)\n  const fromURL = urlAddedTokens.hasOwnProperty(currency)\n\n  return (\n    <Wrapper>\n      <CloseIcon onClick={() => onDismiss()}>\n        <CloseColor alt={'close icon'} />\n      </CloseIcon>\n      <Row style={{ fontSize: '12px' }}>\n        <Text>{fromURL ? 'Token imported by URL ' : 'Token imported by user'}</Text>\n        <QuestionWrapper\n          onClick={() => {\n            setPopup(!showPopup)\n          }}\n          onMouseEnter={() => {\n            setPopup(true)\n          }}\n          onMouseLeave={() => {\n            setPopup(false)\n          }}\n        >\n          <HelpCircleStyled src={question} alt=\"popup\" />\n        </QuestionWrapper>\n        {showPopup ? (\n          <Popup>\n            <Text>\n              The Uniswap smart contracts are designed to support any ERC20 token on Ethereum. Any token can be loaded\n              into the interface by entering its Ethereum address into the search field or passing it as a URL\n              parameter. Be careful when interacting with imported tokens as they have not been verified.\n            </Text>\n          </Popup>\n        ) : (\n          ''\n        )}\n      </Row>\n      <Row>\n        <TokenLogo address={currency} />\n        <div style={{ fontWeight: 500 }}>{inputName && inputSymbol ? inputName + ' (' + inputSymbol + ')' : ''}</div>\n        <Link style={{ fontWeight: 400 }} href={getEtherscanLink(chainId, currency, 'address')}>\n          (View on Etherscan)\n        </Link>\n      </Row>\n      <Row style={{ fontSize: '12px', fontStyle: 'italic' }}>\n        <Text>Please verify the legitimacy of this token before making any transactions.</Text>\n      </Row>\n    </Wrapper>\n  )\n}\n\nexport default WarningCard\n","let props: (keyof DOMRect)[] = [\n\t\"bottom\",\n\t\"height\",\n\t\"left\",\n\t\"right\",\n\t\"top\",\n\t\"width\",\n];\n\nlet rectChanged = (a: DOMRect = {} as DOMRect, b: DOMRect = {} as DOMRect) =>\n\tprops.some((prop) => a[prop] !== b[prop]);\n\nlet observedNodes = new Map<Element, RectProps>();\nlet rafId: number;\n\nlet run = () => {\n\tconst changedStates: RectProps[] = [];\n\tobservedNodes.forEach((state, node) => {\n\t\tlet newRect = node.getBoundingClientRect();\n\t\tif (rectChanged(newRect, state.rect)) {\n\t\t\tstate.rect = newRect;\n\t\t\tchangedStates.push(state);\n\t\t}\n\t});\n\n\tchangedStates.forEach((state) => {\n\t\tstate.callbacks.forEach((cb) => cb(state.rect));\n\t});\n\n\trafId = window.requestAnimationFrame(run);\n};\n\nexport default function observeRect(\n\tnode: Element,\n\tcb: (rect: DOMRect) => void\n) {\n\treturn {\n\t\tobserve() {\n\t\t\tlet wasEmpty = observedNodes.size === 0;\n\t\t\tif (observedNodes.has(node)) {\n\t\t\t\tobservedNodes.get(node)!.callbacks.push(cb);\n\t\t\t} else {\n\t\t\t\tobservedNodes.set(node, {\n\t\t\t\t\trect: undefined,\n\t\t\t\t\thasRectChanged: false,\n\t\t\t\t\tcallbacks: [cb],\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (wasEmpty) run();\n\t\t},\n\n\t\tunobserve() {\n\t\t\tlet state = observedNodes.get(node);\n\t\t\tif (state) {\n\t\t\t\t// Remove the callback\n\t\t\t\tconst index = state.callbacks.indexOf(cb);\n\t\t\t\tif (index >= 0) state.callbacks.splice(index, 1);\n\n\t\t\t\t// Remove the node reference\n\t\t\t\tif (!state.callbacks.length) observedNodes.delete(node);\n\n\t\t\t\t// Stop the loop\n\t\t\t\tif (!observedNodes.size) cancelAnimationFrame(rafId);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport type PartialRect = Partial<DOMRect>;\n\nexport type RectProps = {\n\trect: DOMRect | undefined;\n\thasRectChanged: boolean;\n\tcallbacks: Function[];\n};\n","import { useState, useEffect } from \"react\";\n\n// Could use UUID but if we hit 9,007,199,254,740,991 unique components over\n// the lifetime of the app before it gets reloaded, I mean ... come on.\n// I don't even know what xillion that is.\n// /me googles\n// Oh duh, quadrillion. Nine quadrillion components. I think we're okay.\nvar id = 0;\nvar genId = function genId() {\n  return ++id;\n};\n\nexport var useId = function useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from \"react\";\n\nvar style = {\n  border: 0,\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  padding: 0,\n  overflow: \"hidden\",\n  position: \"absolute\"\n};\n\nexport default (function (props) {\n  return React.createElement(\"div\", _extends({ style: style }, props));\n});","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React, { useRef, useState, useLayoutEffect } from \"react\";\nimport Component from \"@reach/component-component\";\nimport observeRect from \"@reach/observe-rect\";\nimport { func, bool } from \"prop-types\";\n\nvar render = function render(_ref) {\n  var refs = _ref.refs,\n      children = _ref.props.children,\n      rect = _ref.state.rect;\n  return children({ ref: function ref(node) {\n      return refs.node = node;\n    }, rect: rect });\n};\n\nvar didMount = function didMount(_ref2) {\n  var setState = _ref2.setState,\n      refs = _ref2.refs,\n      props = _ref2.props;\n\n  if (!refs.node) {\n    console.warn(\"You need to place the ref\");\n    return;\n  }\n  refs.observer = observeRect(refs.node, function (rect) {\n    props.onChange && props.onChange(rect);\n    setState({ rect: rect });\n  });\n  if (props.observe) {\n    refs.observer.observe();\n  }\n};\n\nvar didUpdate = function didUpdate(_ref3) {\n  var refs = _ref3.refs,\n      props = _ref3.props,\n      prevProps = _ref3.prevProps;\n\n  if (props.observe && !prevProps.observe) {\n    refs.observer.observe();\n  } else if (!props.observe && prevProps.observe) {\n    refs.observer.unobserve();\n  }\n};\n\nvar willUnmount = function willUnmount(_ref4) {\n  var refs = _ref4.refs;\n\n  refs.observer.unobserve();\n};\n\nvar Rect = function Rect(props) {\n  return React.createElement(Component, _extends({}, props, {\n    refs: {\n      node: undefined,\n      observer: undefined\n    },\n    initialState: {\n      rect: undefined\n    },\n    didMount: didMount,\n    didUpdate: didUpdate,\n    willUnmount: willUnmount,\n    render: render\n  }));\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Rect.propTypes = {\n  children: func,\n  observe: bool,\n  onChange: func\n} : void 0;\n\nRect.defaultProps = {\n  observe: true\n};\n\nexport function useRect(nodeRef) {\n  var observe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var _useState = useState(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  var observerRef = useRef(null);\n  useLayoutEffect(function () {\n    if (!observerRef.current) {\n      observerRef.current = observeRect(nodeRef.current, setRect);\n    }\n    if (observe) {\n      observerRef.current.observe();\n    }\n    return function () {\n      return observerRef.current.unobserve();\n    };\n  }, [observe]);\n  return rect;\n}\n\nexport default Rect;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _states;\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n////////////////////////////////////////////////////////////////////////////////\n// Welcome to @reach/tooltip!\n//\n// Quick definitions:\n//\n// - \"on rest\" or \"rested on\": describes when the element receives mouse hover\n//   after a short delay (and hopefully soon, touch longpress).\n//\n// - \"activation\": describes a mouse click, keyboard enter, or keyboard space.\n//\n// Only one tooltip can be visible at a time, so we use a global state chart to\n// describe the various states and transitions between states that are\n// possible. With the all the timeouts involved with tooltips it's important to\n// \"make impossible states impossible\" with a state machine.\n//\n// It's also okay to use these module globals because you don't server render\n// tooltips. None of the state is changed outside of user events.\n//\n// There are a few features that are important to understand.\n//\n// 1. Tooltips don't show up until the user has rested on one, we don't\n//    want tooltips popupping up as you move your mouse around the page.\n//\n// 2. Once any tooltip becomes visible, other tooltips nearby should skip\n//    resting and display immediately.\n//\n// 3. Tooltips stick around for a little bit after blur/mouseleave.\n//\n// TODO: Research longpress tooltips on Android, iOS\n// - Probably want to position it by default above, since your thumb\n//   is below and would cover it\n// - I'm thinking after longpress, display the tooltip and cancel any click\n//   events. Then on touchend, so they can read it display the tooltip for\n//   a little while longer in case their hand was obstructing the tooltip.\n\n/* eslint-disable default-case */\n\nimport React, { Fragment, cloneElement, Children, useState, useRef, forwardRef, useEffect } from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { wrapEvent, checkStyles } from \"@reach/utils\";\nimport Portal from \"@reach/portal\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport { useRect } from \"@reach/rect\";\nimport { node, string, func } from \"prop-types\";\n\n////////////////////////////////////////////////////////////////////////////////\n// ~The states~\n\n// nothing goin' on\nvar IDLE = \"idle\";\n\n// we're considering showing the tooltip, but we're gonna wait a sec\nvar FOCUSED = \"focused\";\n\n// IT'S ON\nvar VISIBLE = \"visible\";\n\n// Focus has left, but we want to keep it visible for a sec\nvar LEAVING_VISIBLE = \"leavingVisible\";\n\n// The user clicked the tool, so we want to hide the thing, we can't just use\n// IDLE because we need to ignore mousemove, etc.\nvar DISMISSED = \"dismissed\";\n\nvar chart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    enter: clearContextId,\n    on: {\n      mouseenter: FOCUSED,\n      focus: VISIBLE\n    }\n  }, _states[FOCUSED] = {\n    enter: startRestTimer,\n    leave: clearRestTimer,\n    on: {\n      mousemove: FOCUSED,\n      mouseleave: IDLE,\n      mousedown: DISMISSED,\n      blur: IDLE,\n      rest: VISIBLE\n    }\n  }, _states[VISIBLE] = {\n    on: {\n      focus: FOCUSED,\n      mouseenter: FOCUSED,\n      mouseleave: LEAVING_VISIBLE,\n      blur: LEAVING_VISIBLE,\n      mousedown: DISMISSED,\n      selectWithKeyboard: DISMISSED,\n      globalMouseMove: LEAVING_VISIBLE\n    }\n  }, _states[LEAVING_VISIBLE] = {\n    enter: startLeavingVisibleTimer,\n    leave: function leave() {\n      clearLeavingVisibleTimer();\n      clearContextId();\n    },\n    on: {\n      mouseenter: VISIBLE,\n      focus: VISIBLE,\n      timecomplete: IDLE\n    }\n  }, _states[DISMISSED] = {\n    leave: function leave() {\n      // allows us to come on back later w/o entering something else first\n      context.id = null;\n    },\n    on: {\n      mouseleave: IDLE,\n      blur: IDLE\n    }\n  }, _states)\n};\n\n// chart context allows us to persist some data around, in Tooltip all we use\n// is the id of the current tooltip being interacted with.\nvar context = { id: null };\nvar state = chart.initial;\n\n////////////////////////////////////////////////////////////////////////////////\n// Finds the next state from the current state + action. If the chart doesn't\n// describe that transition, it will throw.\n//\n// It also manages lifecycles of the machine, (enter/leave hooks on the state\n// chart)\nfunction transition(action, newContext) {\n  var stateDef = chart.states[state];\n  var nextState = stateDef.on[action];\n\n  // Really useful for debugging\n  // console.log({ action, state, nextState, contextId: context.id });\n\n  if (!nextState) {\n    throw new Error(\"Unknown state for action \\\"\" + action + \"\\\" from state \\\"\" + state + \"\\\"\");\n  }\n\n  if (stateDef.leave) {\n    stateDef.leave();\n  }\n\n  if (newContext) {\n    context = newContext;\n  }\n\n  var nextDef = chart.states[nextState];\n  if (nextDef.enter) {\n    nextDef.enter();\n  }\n\n  state = nextState;\n  notify();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Subscriptions:\n//\n// We could require apps to render a <TooltipProvider> around the app and use\n// React context to notify Tooltips of changes to our state machine, instead\n// we manage subscriptions ourselves and simplify the Tooltip API.\n//\n// Maybe if default context could take a hook (instead of just a static value)\n// that was rendered at the root for us, that'd be cool! But it doesn't.\nvar subscriptions = [];\n\nfunction subscribe(fn) {\n  subscriptions.push(fn);\n  return function () {\n    subscriptions.splice(subscriptions.indexOf(fn), 1);\n  };\n}\n\nfunction notify() {\n  subscriptions.forEach(function (fn) {\n    return fn(state, context);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Timeouts:\n\n// Manages when the user \"rests\" on an element. Keeps the interface from being\n// flashing tooltips all the time as the user moves the mouse around the screen.\nvar restTimeout = void 0;\n\nfunction startRestTimer() {\n  clearTimeout(restTimeout);\n  restTimeout = setTimeout(function () {\n    return transition(\"rest\");\n  }, 100);\n}\n\nfunction clearRestTimer() {\n  clearTimeout(restTimeout);\n}\n\n// Manages the delay to hide the tooltip after rest leaves.\nvar leavingVisibleTimer = void 0;\n\nfunction startLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n  leavingVisibleTimer = setTimeout(function () {\n    return transition(\"timecomplete\");\n  }, 500);\n}\n\nfunction clearLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n}\n\n// allows us to come on back later w/o entering something else first after the\n// user leaves or dismisses\nfunction clearContextId() {\n  context.id = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// THE HOOK! It's about time we got to the goods!\nexport function useTooltip() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      onKeyDown = _ref.onKeyDown,\n      onMouseDown = _ref.onMouseDown,\n      ref = _ref.ref,\n      DEBUG_STYLE = _ref.DEBUG_STYLE;\n\n  var id = \"tooltip:\" + useId();\n\n  var _useState = useState(DEBUG_STYLE ? true : context.id === id && state === VISIBLE),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  // hopefully they always pass a ref if they ever pass one\n\n\n  var triggerRef = ref || useRef();\n  var triggerRect = useRect(triggerRef, isVisible);\n\n  useEffect(function () {\n    return subscribe(function () {\n      if (context.id === id && (state === VISIBLE || state === LEAVING_VISIBLE)) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  }, [id]);\n\n  useEffect(function () {\n    return checkStyles(\"tooltip\");\n  });\n\n  var handleMouseEnter = function handleMouseEnter() {\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"mouseenter\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove() {\n    switch (state) {\n      case FOCUSED:\n        {\n          transition(\"mousemove\", { id: id });\n        }\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (window.__REACH_DISABLE_TOOLTIPS) return;\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"focus\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"mouseleave\");\n        }\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"blur\");\n        }\n    }\n  };\n\n  var handleMouseDown = function handleMouseDown() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n        {\n          transition(\"mousedown\");\n        }\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      switch (state) {\n        case VISIBLE:\n          {\n            transition(\"selectWithKeyboard\");\n          }\n      }\n    }\n  };\n\n  var trigger = {\n    \"aria-describedby\": id,\n    \"data-reach-tooltip-trigger\": \"\",\n    ref: triggerRef,\n    onMouseEnter: wrapEvent(onMouseEnter, handleMouseEnter),\n    onMouseMove: wrapEvent(onMouseMove, handleMouseMove),\n    onFocus: wrapEvent(onFocus, handleFocus),\n    onBlur: wrapEvent(onFocus, handleBlur),\n    onMouseLeave: wrapEvent(onMouseLeave, handleMouseLeave),\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown)\n  };\n\n  var tooltip = {\n    id: id,\n    triggerRect: triggerRect,\n    isVisible: isVisible\n  };\n\n  return [trigger, tooltip, isVisible];\n}\n\n////////////////////////////////////////////////////////////////////////////////\nexport default function Tooltip(_ref2) {\n  var children = _ref2.children,\n      label = _ref2.label,\n      ariaLabel = _ref2.ariaLabel,\n      DEBUG_STYLE = _ref2.DEBUG_STYLE,\n      rest = _objectWithoutProperties(_ref2, [\"children\", \"label\", \"ariaLabel\", \"DEBUG_STYLE\"]);\n\n  var _useTooltip = useTooltip({ DEBUG_STYLE: DEBUG_STYLE }),\n      trigger = _useTooltip[0],\n      tooltip = _useTooltip[1];\n\n  return React.createElement(\n    Fragment,\n    null,\n    cloneElement(Children.only(children), trigger),\n    React.createElement(TooltipPopup, _extends({\n      label: label,\n      ariaLabel: ariaLabel\n    }, tooltip, rest))\n  );\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Tooltip.propTypes = {\n  children: node.isRequired,\n  label: node.isRequired,\n  ariaLabel: string\n} : void 0;\n\n////////////////////////////////////////////////////////////////////////////////\nvar TooltipPopup = forwardRef(function TooltipPopup(_ref3, forwardRef) {\n  var label = _ref3.label,\n      ariaLabel = _ref3.ariaLabel,\n      position = _ref3.position,\n      isVisible = _ref3.isVisible,\n      id = _ref3.id,\n      triggerRect = _ref3.triggerRect,\n      rest = _objectWithoutProperties(_ref3, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\"]);\n\n  return isVisible ? React.createElement(\n    Portal,\n    null,\n    React.createElement(TooltipContent, _extends({\n      label: label,\n      ariaLabel: ariaLabel,\n      position: position,\n      isVisible: isVisible,\n      id: id,\n      triggerRect: triggerRect,\n      ref: forwardRef\n    }, rest))\n  ) : null;\n});\n\nexport { TooltipPopup };\nprocess.env.NODE_ENV !== \"production\" ? TooltipPopup.propTypes = {\n  label: node.isRequired,\n  ariaLabel: string,\n  position: func\n} : void 0;\n\n// Need a separate component so that useRect works inside the portal\nvar TooltipContent = forwardRef(function TooltipContent(_ref4, forwardRef) {\n  var label = _ref4.label,\n      ariaLabel = _ref4.ariaLabel,\n      _ref4$position = _ref4.position,\n      position = _ref4$position === undefined ? positionDefault : _ref4$position,\n      isVisible = _ref4.isVisible,\n      id = _ref4.id,\n      triggerRect = _ref4.triggerRect,\n      style = _ref4.style,\n      rest = _objectWithoutProperties(_ref4, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\", \"style\"]);\n\n  var useAriaLabel = ariaLabel != null;\n  var tooltipRef = useRef();\n  var tooltipRect = useRect(tooltipRef, isVisible);\n  return React.createElement(\n    Fragment,\n    null,\n    React.createElement(\"div\", _extends({\n      \"data-reach-tooltip\": true,\n      role: useAriaLabel ? undefined : \"tooltip\",\n      id: useAriaLabel ? undefined : id,\n      children: label,\n      style: _extends({}, style, getStyles(position, triggerRect, tooltipRect)),\n      ref: function ref(node) {\n        tooltipRef.current = node;\n        if (forwardRef) forwardRef(node);\n      }\n    }, rest)),\n    useAriaLabel && React.createElement(\n      VisuallyHidden,\n      { role: \"tooltip\", id: id },\n      ariaLabel\n    )\n  );\n});\n\n// feels awkward when it's perfectly aligned w/ the trigger\nvar OFFSET = 8;\n\nvar getStyles = function getStyles(position, triggerRect, tooltipRect) {\n  var haventMeasuredTooltipYet = !tooltipRect;\n  if (haventMeasuredTooltipYet) {\n    return { visibility: \"hidden\" };\n  }\n  return position(triggerRect, tooltipRect);\n};\n\nvar positionDefault = function positionDefault(triggerRect, tooltipRect) {\n  var styles = {\n    left: triggerRect.left + window.pageXOffset + \"px\",\n    top: triggerRect.top + triggerRect.height + window.pageYOffset + \"px\"\n  };\n\n  var collisions = {\n    top: triggerRect.top - tooltipRect.height < 0,\n    right: window.innerWidth < triggerRect.left + tooltipRect.width,\n    bottom: window.innerHeight < triggerRect.bottom + tooltipRect.height + OFFSET,\n    left: triggerRect.left - tooltipRect.width < 0\n  };\n\n  var directionRight = collisions.right && !collisions.left;\n  var directionUp = collisions.bottom && !collisions.top;\n\n  return _extends({}, styles, {\n    left: directionRight ? triggerRect.right - tooltipRect.width + window.pageXOffset + \"px\" : triggerRect.left + window.pageXOffset + \"px\",\n    top: directionUp ? triggerRect.top - OFFSET - tooltipRect.height + window.pageYOffset + \"px\" : triggerRect.top + OFFSET + triggerRect.height + window.pageYOffset + \"px\"\n  });\n};","var _path;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.97168 1L6.20532 6L11.439 1\",\n    stroke: \"#AEAEAE\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.7d32d2fa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport { ethers } from 'ethers'\nimport { BigNumber } from '@uniswap/sdk'\nimport styled from 'styled-components'\nimport escapeStringRegex from 'escape-string-regexp'\nimport { darken } from 'polished'\nimport Tooltip from '@reach/tooltip'\nimport '@reach/tooltip/styles.css'\nimport { isMobile } from 'react-device-detect'\n\nimport { BorderlessInput } from '../../theme'\nimport { useWeb3React, useTokenContract } from '../../hooks'\nimport { isAddress, calculateGasMargin, formatToUsd, formatTokenBalance, formatEthBalance } from '../../utils'\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\nimport Modal from '../Modal'\nimport TokenLogo from '../TokenLogo'\nimport SearchIcon from '../../assets/images/magnifying-glass.svg'\nimport { useTransactionAdder, usePendingApproval } from '../../contexts/Transactions'\nimport { useTokenDetails, useAllTokenDetails, INITIAL_TOKENS_CONTEXT } from '../../contexts/Tokens'\nimport { useAddressBalance } from '../../contexts/Balances'\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\nimport { transparentize } from 'polished'\nimport { Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle-grey.svg'\nimport { useETHPriceInUSD, useAllBalances } from '../../contexts/Balances'\n\nconst GAS_MARGIN = ethers.utils.bigNumberify(1000)\n\nconst SubCurrencySelect = styled.button`\n  ${({ theme }) => theme.flexRowNoWrap}\n  padding: 4px 50px 4px 15px;\n  margin-right: -40px;\n  line-height: 0;\n  height: 2rem;\n  align-items: center;\n  border-radius: 2.5rem;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  background: ${({ theme }) => theme.zumthorBlue};\n  border: 1px solid ${({ theme }) => theme.royalBlue};\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled(BorderlessInput)`\n  font-size: 1.5rem;\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  background-color: ${({ theme }) => theme.inputBackground};\n  -moz-appearance: textfield;\n`\n\nconst StyledBorderlessInput = styled(BorderlessInput)`\n  min-height: 2.5rem;\n  flex-shrink: 0;\n  text-align: left;\n  padding-left: 1.6rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  font-size: 1rem;\n  color: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  height: 2rem;\n  border: 1px solid ${({ selected, theme }) => (selected ? theme.mercuryGray : theme.royalBlue)};\n  border-radius: 2.5rem;\n  background-color: ${({ selected, theme }) => (selected ? theme.concreteGray : theme.zumthorBlue)};\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n\n  :hover {\n    border: 1px solid\n      ${({ selected, theme }) => (selected ? darken(0.1, theme.mercuryGray) : darken(0.1, theme.royalBlue))};\n  }\n\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.1, theme.royalBlue)};\n  }\n\n  :active {\n    background-color: ${({ theme }) => theme.zumthorBlue};\n  }\n`\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nconst StyledDropDown = styled(DropDown)`\n  margin: 0 0.5rem 0 0.5rem;\n  height: 35%;\n\n  path {\n    stroke: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadowColor)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.inputBackground};\n  z-index: 1;\n`\n\nconst Container = styled.div`\n  border-radius: 1.25rem;\n  border: 1px solid ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n\n  background-color: ${({ theme }) => theme.inputBackground};\n  :focus-within {\n    border: 1px solid ${({ theme }) => theme.malibuBlue};\n  }\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n  span:hover {\n    cursor: pointer;\n    color: ${({ theme }) => darken(0.2, theme.doveGray)};\n  }\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst ErrorSpan = styled.span`\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  :hover {\n    cursor: pointer;\n    color: ${({ error, theme }) => error && darken(0.1, theme.salmonRed)};\n  }\n`\n\nconst TokenModal = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  width: 100%;\n`\n\nconst ModalHeader = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px 0px 0px 1rem;\n  height: 60px;\n`\n\nconst CloseColor = styled(Close)`\n  path {\n    stroke: ${({ theme }) => theme.textColor};\n  }\n`\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst SearchContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: flex-start;\n  padding: 0.5rem 1.5rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst TokenModalInfo = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 1rem 1.5rem;\n  margin: 0.25rem 0.5rem;\n  justify-content: center;\n  user-select: none;\n`\n\nconst TokenList = styled.div`\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n`\n\nconst TokenModalRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  cursor: pointer;\n  user-select: none;\n\n  #symbol {\n    color: ${({ theme }) => theme.doveGrey};\n  }\n\n  :hover {\n    background-color: ${({ theme }) => theme.tokenRowHover};\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 0.8rem 1rem;\n    padding-right: 2rem;\n  `}\n`\n\nconst TokenRowLeft = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items : center;\n`\n\nconst TokenSymbolGroup = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  margin-left: 1rem;\n`\n\nconst TokenFullName = styled.div`\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst FadedSpan = styled.span`\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst TokenRowBalance = styled.div`\n  font-size: 1rem;\n  line-height: 20px;\n`\n\nconst TokenRowUsd = styled.div`\n  font-size: 1rem;\n  line-height: 1.5rem;\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst TokenRowRight = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: flex-end;\n`\n\nconst StyledTokenName = styled.span`\n  margin: 0 0.25rem 0 0.25rem;\n`\n\nconst SpinnerWrapper = styled(Spinner)`\n  margin: 0 0.25rem 0 0.25rem;\n  color: ${({ theme }) => theme.chaliceGray};\n  opacity: 0.6;\n`\n\nexport default function CurrencyInputPanel({\n  onValueChange = () => {},\n  allBalances,\n  renderInput,\n  onCurrencySelected = () => {},\n  title,\n  description,\n  extraText,\n  extraTextClickHander = () => {},\n  errorMessage,\n  disableUnlock,\n  disableTokenSelect,\n  selectedTokenAddress = '',\n  showUnlock,\n  value,\n  urlAddedTokens,\n  hideETH = false\n}) {\n  const { t } = useTranslation()\n\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n\n  const tokenContract = useTokenContract(selectedTokenAddress)\n  const { exchangeAddress: selectedTokenExchangeAddress } = useTokenDetails(selectedTokenAddress)\n\n  const pendingApproval = usePendingApproval(selectedTokenAddress)\n\n  const addTransaction = useTransactionAdder()\n\n  const allTokens = useAllTokenDetails()\n\n  const { account } = useWeb3React()\n\n  const userTokenBalance = useAddressBalance(account, selectedTokenAddress)\n\n  function renderUnlockButton() {\n    if (disableUnlock || !showUnlock || selectedTokenAddress === 'BNB' || !selectedTokenAddress) {\n      return null\n    } else {\n      if (!pendingApproval) {\n        return (\n          <SubCurrencySelect\n            onClick={async () => {\n              let estimatedGas\n              let useUserBalance = false\n              estimatedGas = await tokenContract.estimate\n                .approve(selectedTokenExchangeAddress, ethers.constants.MaxUint256)\n                .catch(e => {\n                  console.log('Error setting max token approval.')\n                })\n              if (!estimatedGas) {\n                // general fallback for tokens who restrict approval amounts\n                estimatedGas = await tokenContract.estimate.approve(selectedTokenExchangeAddress, userTokenBalance)\n                useUserBalance = true\n              }\n              tokenContract\n                .approve(\n                  selectedTokenExchangeAddress,\n                  useUserBalance ? userTokenBalance : ethers.constants.MaxUint256,\n                  {\n                    gasLimit: calculateGasMargin(estimatedGas, GAS_MARGIN)\n                  }\n                )\n                .then(response => {\n                  addTransaction(response, { approval: selectedTokenAddress })\n                })\n            }}\n          >\n            {t('unlock')}\n          </SubCurrencySelect>\n        )\n      } else {\n        return <SubCurrencySelect>{t('pending')}</SubCurrencySelect>\n      }\n    }\n  }\n\n  function _renderInput() {\n    if (typeof renderInput === 'function') {\n      return renderInput()\n    }\n\n    return (\n      <InputRow>\n        <Input\n          type=\"number\"\n          min=\"0\"\n          step=\"0.000000000000000001\"\n          error={!!errorMessage}\n          placeholder=\"0.0\"\n          onChange={e => onValueChange(e.target.value)}\n          onKeyPress={e => {\n            const charCode = e.which ? e.which : e.keyCode\n\n            // Prevent 'minus' character\n            if (charCode === 45) {\n              e.preventDefault()\n              e.stopPropagation()\n            }\n          }}\n          value={value}\n        />\n        {renderUnlockButton()}\n        <CurrencySelect\n          selected={!!selectedTokenAddress}\n          onClick={() => {\n            if (!disableTokenSelect) {\n              setModalIsOpen(true)\n            }\n          }}\n        >\n          <Aligner>\n            {selectedTokenAddress ? <TokenLogo address={selectedTokenAddress} /> : null}\n            {\n              <StyledTokenName>\n                {(allTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol) || t('selectToken')}\n              </StyledTokenName>\n            }\n            {!disableTokenSelect && <StyledDropDown selected={!!selectedTokenAddress} />}\n          </Aligner>\n        </CurrencySelect>\n      </InputRow>\n    )\n  }\n\n  return (\n    <InputPanel>\n      <Container error={!!errorMessage}>\n        <LabelRow>\n          <LabelContainer>\n            <span>{title}</span> <span>{description}</span>\n          </LabelContainer>\n\n          <ErrorSpan\n            data-tip={'Enter max'}\n            error={!!errorMessage}\n            onClick={() => {\n              extraTextClickHander()\n            }}\n          >\n            <Tooltip\n              label=\"Enter Max\"\n              style={{\n                background: 'hsla(0, 0%, 0%, 0.75)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '24px',\n                padding: '0.5em 1em',\n                marginTop: '-64px'\n              }}\n            >\n              <span>{extraText}</span>\n            </Tooltip>\n          </ErrorSpan>\n        </LabelRow>\n        {_renderInput()}\n      </Container>\n      {!disableTokenSelect && (\n        <CurrencySelectModal\n          isOpen={modalIsOpen}\n          onDismiss={() => {\n            setModalIsOpen(false)\n          }}\n          urlAddedTokens={urlAddedTokens}\n          onTokenSelect={onCurrencySelected}\n          allBalances={allBalances}\n          hideETH={hideETH}\n        />\n      )}\n    </InputPanel>\n  )\n}\n\nfunction CurrencySelectModal({ isOpen, onDismiss, onTokenSelect, urlAddedTokens, hideETH }) {\n  const { t } = useTranslation()\n\n  const [searchQuery, setSearchQuery] = useState('')\n  const { exchangeAddress } = useTokenDetails(searchQuery)\n\n  const allTokens = useAllTokenDetails()\n\n  const { account, chainId } = useWeb3React()\n\n  // BigNumber.js instance\n  const ethPrice = useETHPriceInUSD()\n\n  // all balances for both account and exchanges\n  const allBalances = useAllBalances()\n\n  const _usdAmounts = Object.keys(allTokens).map(k => {\n    if (ethPrice && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n      let ethRate = 1 // default for BNB\n      let exchangeDetails = allBalances[allTokens[k].exchangeAddress]\n\n      if (\n        exchangeDetails &&\n        exchangeDetails[k] &&\n        exchangeDetails[k].value &&\n        exchangeDetails['BNB'] &&\n        exchangeDetails['BNB'].value\n      ) {\n        const tokenBalance = new BigNumber(exchangeDetails[k].value)\n        const ethBalance = new BigNumber(exchangeDetails['BNB'].value)\n        ethRate = ethBalance\n          .times(new BigNumber(10).pow(allTokens[k].decimals))\n          .div(tokenBalance)\n          .div(new BigNumber(10).pow(18))\n      }\n      const USDRate = ethPrice.times(ethRate)\n\n      const balanceBigNumber = new BigNumber(allBalances[account][k].value)\n\n      const usdBalance = balanceBigNumber.times(USDRate).div(new BigNumber(10).pow(allTokens[k].decimals))\n      return usdBalance\n    } else {\n      return null\n    }\n  })\n  const usdAmounts =\n    _usdAmounts &&\n    Object.keys(allTokens).reduce(\n      (accumulator, currentValue, i) => Object.assign({ [currentValue]: _usdAmounts[i] }, accumulator),\n      {}\n    )\n\n  const tokenList = useMemo(() => {\n    return Object.keys(allTokens)\n      .sort((a, b) => {\n        if (allTokens[a].symbol && allTokens[b].symbol) {\n          const aSymbol = allTokens[a].symbol.toLowerCase()\n          const bSymbol = allTokens[b].symbol.toLowerCase()\n\n          // pin BNB to top\n          if (aSymbol === 'BNB'.toLowerCase() || bSymbol === 'BNB'.toLowerCase()) {\n            return aSymbol === bSymbol ? 0 : aSymbol === 'BNB'.toLowerCase() ? -1 : 1\n          }\n\n          // then tokens with balance\n          if (usdAmounts[a] && !usdAmounts[b]) {\n            return -1\n          } else if (usdAmounts[b] && !usdAmounts[a]) {\n            return 1\n          }\n\n          // sort by balance\n          if (usdAmounts[a] && usdAmounts[b]) {\n            const aUSD = usdAmounts[a]\n            const bUSD = usdAmounts[b]\n\n            return aUSD.gt(bUSD) ? -1 : aUSD.lt(bUSD) ? 1 : 0\n          }\n\n          // sort alphabetically\n          return aSymbol < bSymbol ? -1 : aSymbol > bSymbol ? 1 : 0\n        } else {\n          return 0\n        }\n      })\n      .map(k => {\n        let balance\n        let usdBalance\n        // only update if we have data\n        if (k === 'BNB' && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatEthBalance(ethers.utils.bigNumberify(allBalances[account][k].value))\n          usdBalance = usdAmounts[k]\n        } else if (allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatTokenBalance(ethers.utils.bigNumberify(allBalances[account][k].value), allTokens[k].decimals)\n          usdBalance = usdAmounts[k]\n        }\n        return {\n          name: allTokens[k].name,\n          symbol: allTokens[k].symbol,\n          address: k,\n          balance: balance,\n          usdBalance: usdBalance\n        }\n      })\n  }, [allBalances, allTokens, usdAmounts, account])\n\n  const filteredTokenList = useMemo(() => {\n    const list = tokenList.filter(tokenEntry => {\n      const inputIsAddress = searchQuery.slice(0, 2) === '0x'\n\n      // check the regex for each field\n      const regexMatches = Object.keys(tokenEntry).map(tokenEntryKey => {\n        // if address field only search if input starts with 0x\n        if (tokenEntryKey === 'address') {\n          return (\n            inputIsAddress &&\n            typeof tokenEntry[tokenEntryKey] === 'string' &&\n            !!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), 'i'))\n          )\n        }\n        return (\n          typeof tokenEntry[tokenEntryKey] === 'string' &&\n          !!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), 'i'))\n        )\n      })\n      return regexMatches.some(m => m)\n    })\n    // If the user has not inputted anything, preserve previous sort\n    if (searchQuery === '') return list\n    return list.sort((a, b) => {\n      return a.symbol.toLowerCase() === searchQuery.toLowerCase() ? -1 : 1\n    })\n  }, [tokenList, searchQuery])\n\n  function _onTokenSelect(address) {\n    setSearchQuery('')\n    onTokenSelect(address)\n    onDismiss()\n  }\n\n  function renderTokenList() {\n    if (isAddress(searchQuery) && exchangeAddress === undefined) {\n      return <TokenModalInfo>Searching for Exchange...</TokenModalInfo>\n    }\n    if (isAddress(searchQuery) && exchangeAddress === ethers.constants.AddressZero) {\n      return (\n        <>\n          <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n          <TokenModalInfo>\n            <Link to={`/create-exchange/${searchQuery}`}>{t('createExchange')}</Link>\n          </TokenModalInfo>\n        </>\n      )\n    }\n    if (!filteredTokenList.length) {\n      return <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n    }\n\n    return filteredTokenList.map(({ address, symbol, name, balance, usdBalance }) => {\n      const urlAdded = urlAddedTokens && urlAddedTokens.hasOwnProperty(address)\n      const customAdded =\n        address !== 'BNB' &&\n        INITIAL_TOKENS_CONTEXT[chainId] &&\n        !INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(address) &&\n        !urlAdded\n\n      if (hideETH && address === 'BNB') {\n        return null\n      }\n\n      return (\n        <TokenModalRow key={address} onClick={() => _onTokenSelect(address)}>\n          <TokenRowLeft>\n            <TokenLogo address={address} size={'2rem'} />\n            <TokenSymbolGroup>\n              <div>\n                <span id=\"symbol\">{symbol}</span>\n                <FadedSpan>\n                  {urlAdded && '(Added by URL)'} {customAdded && '(Added by user)'}\n                </FadedSpan>\n              </div>\n              <TokenFullName> {name}</TokenFullName>\n            </TokenSymbolGroup>\n          </TokenRowLeft>\n          <TokenRowRight>\n            {balance ? (\n              <TokenRowBalance>{balance && (balance > 0 || balance === '<0.0001') ? balance : '-'}</TokenRowBalance>\n            ) : account ? (\n              <SpinnerWrapper src={Circle} alt=\"loader\" />\n            ) : (\n              '-'\n            )}\n            <TokenRowUsd>\n              {usdBalance && !usdBalance.isNaN()\n                ? usdBalance.isZero()\n                  ? ''\n                  : usdBalance.lt(0.01)\n                  ? '<$0.01'\n                  : '$' + formatToUsd(usdBalance)\n                : ''}\n            </TokenRowUsd>\n          </TokenRowRight>\n        </TokenModalRow>\n      )\n    })\n  }\n\n  // manage focus on modal show\n  const inputRef = useRef()\n\n  function onInput(event) {\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setSearchQuery(checksummedInput || input)\n  }\n\n  function clearInputAndDismiss() {\n    setSearchQuery('')\n    onDismiss()\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onDismiss={clearInputAndDismiss}\n      minHeight={60}\n      maxHeight={50}\n      initialFocusRef={isMobile ? undefined : inputRef}\n    >\n      <TokenModal>\n        <ModalHeader>\n          <p>{t('selectToken')}</p>\n          <CloseIcon onClick={clearInputAndDismiss}>\n            <CloseColor alt={'close icon'} />\n          </CloseIcon>\n        </ModalHeader>\n        <SearchContainer>\n          <img src={SearchIcon} alt=\"search\" />\n          <StyledBorderlessInput\n            ref={inputRef}\n            type=\"text\"\n            placeholder={isMobile ? t('searchOrPasteMobile') : t('searchOrPaste')}\n            onChange={onInput}\n          />\n        </SearchContainer>\n        <TokenList>{renderTokenList()}</TokenList>\n      </TokenModal>\n    </Modal>\n  )\n}\n","var _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgEthereumLogo = function SvgEthereumLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"256px\",\n    height: \"417px\",\n    viewBox: \"0 0 256 417\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#343434\",\n    points: \"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#8C8C8C\",\n    points: \"127.962 0 0 212.32 127.962 287.959 127.962 154.158\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#3C3C3B\",\n    points: \"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#8C8C8C\",\n    points: \"127.962 416.9052 127.962 312.1852 0 236.5852\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#141414\",\n    points: \"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"#393939\",\n    points: \"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588\"\n  }))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEthereumLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ethereum-logo.802c6eac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { isAddress } from '../../utils'\n\nimport { ReactComponent as EthereumLogo } from '../../assets/images/ethereum-logo.svg'\n\nconst TOKEN_ICON_API = address =>\n  `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${isAddress(\n    address\n  )}/logo.png`\nconst BAD_IMAGES = {}\n\nconst Image = styled.img`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: white;\n  border-radius: 1rem;\n`\n\nconst Emoji = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nconst StyledEthereumLogo = styled(EthereumLogo)`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nexport default function TokenLogo({ address, size = '1rem', ...rest }) {\n  const [error, setError] = useState(false)\n\n  let path = ''\n  if (address === 'BNB') {\n    return <StyledEthereumLogo size={size} />\n  } else if (!error && !BAD_IMAGES[address]) {\n    path = TOKEN_ICON_API(address.toLowerCase())\n  } else {\n    return (\n      <Emoji {...rest} size={size}>\n        <span role=\"img\" aria-label=\"Thinking\">\n          🤔\n        </span>\n      </Emoji>\n    )\n  }\n\n  return (\n    <Image\n      {...rest}\n      alt={address}\n      src={path}\n      size={size}\n      onError={() => {\n        BAD_IMAGES[address] = true\n        setError(true)\n      }}\n    />\n  )\n}\n"],"sourceRoot":""}